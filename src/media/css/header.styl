@import 'lib';


/* Because the shopping bag logo is a bit visually imbalanced on the x-axis, we
   need a bit of offset to visually even out the vertical centering. */
$header--vertical-offset = 2px


.header
  align-items center
  background $color--white
  display flex
  flex-direction column
  font-size 14px
  font-weight 400
  justify-content space-between

  +media--desktop()
    flex-direction row
    height 60px
    padding $header--vertical-offset 35px 0

  h1
    align-items center
    display flex
    font-weight 300
    margin 10px 0 5px

    +media--desktop()
      margin 10px 0


.header-title
  color $color--black
  font-size 20px
  margin-left 20px
  text-decoration none

  &:hover
    color $color--black
    text-decoration underline


.header-wordmark
  background url('../img/header-wordmark.svg') no-repeat
  background-size 34px 42px
  display inline-block
  height 33px
  overflow hidden
  position relative
  text-indent -999em
  top -1 * $header--vertical-offset
  width 34px


.header-nav,
.header-user
  align-items center
  display flex
  justify-content center
  position relative
  width 100%

  +media--desktop()
    justify-content space-between
    width auto

  ul
    align-items center
    display flex
    flex-direction column
    list-style none
    margin 0
    padding 0
    width 100%

    +media--desktop()
      flex-direction row
      width auto

  li
    display flex
    justify-content center
    width 100%

    +media--desktop()
      display inline-block
      margin 0 10px
      width auto

  a
    background transparent
    color $color--black
    padding 15px 10px 15px 15px
    text-decoration none
    transition background-color 0.05s linear, color 0.05s linear
    width 100%

    +media--desktop()
      border-radius 5px
      padding 10px
      width auto

    &:hover
      background $color--blue-light
      color $color--white

    &.active
      background $color--blue
      color $color--white

  button
    background-color transparent
    border 2px solid $color--blue-light
    color $color--blue-light
    font-family $font--primary
    font-size 14px
    margin 0
    padding 11px 10px 9px

    &:hover
      background-color $color--blue-light
      color $color--white

  p
    font-size 14px
    margin 0 20px 0 0


.header-user
  display none

  +media--desktop()
    display flex


button.header-user-dropdown-toggle
  background transparent url('../img/user.svg')
  background-size 40px 140px
  border 0
  display none
  height 40px
  overflow hidden
  text-indent -999em
  transition none
  width 40px

  +media--desktop()
    display inline-block

  &:hover
    background-color transparent
    background-position 0px -50px

  .header-user--is-showing-dropdown &
  .header-user--is-showing-dropdown &:hover
    background-color transparent
    background-position 0px -100px


.header-user-dropdown
  background $color--blue
  border-radius 5px 0 5px 5px
  display none
  line-height 1
  overflow hidden
  position absolute
  right 0
  top 35px
  width 250px

  .header-user--is-showing-dropdown &
    display block

  p
    color $color--white
    font-size 13px
    margin 0
    padding 10px 15px 8px

  ul
    border-top 1px solid alpha($color--white, 0.4)
    flex-direction column

  li
    border-top 1px solid alpha($color--white, 0.2)
    margin 0
    padding 0

    &:first-child
      border-top: 0

  a
  button
    nested-reset()
    border 0
    border-radius 0
    color $color--white
    display block
    font-size 13px
    font-weight 300
    padding 10px 15px
    text-align left
    width 100%

    &:hover
      background-color alpha($color--white, 0.2)
      color $color--white

  button
    text-indent -4px


[data-header-user-ok="false"] .header-nav
  display none

  +media--desktop()
    display block


.header-login--mobile
  display flex
  justify-content space-between
  padding 5px 0 15px
  width 160px

  +media--desktop()
    display none


li.header-logout--mobile
  +media--desktop()
    display none
